This is a validate using TP5 in conjunction with EasySwoole specification

## Installation
The recommended method of installing this library is via [Composer](https://getcomposer.org/).

Run the following command from your project root:

```bash
$ composer require mapolun/easyswoole-normal-validate
```

## Requirements 
* EasySwoole
* PHP >= 7.2

## Usage 
```php

一、控制器类

namespace App\HttpController;

use EasySwoole\Http\AbstractInterface\Controller;
use MaPoLun\Validate;

class Index extends Base
{
    protected $validate;

    public function __construct()
    {
        parent::__construct();
        $this->validate = new Validate();
    }

    public function index()
    {
        // TODO: Implement index() method.
        $validate = $this->validate->getExamplie();
        $params = $this->validateCheck($validate);
        var_dump($params); // 这是你客户端请求过来验证好的参数
    }
}

二、在写个Base类

namespace App\HttpController;

use EasySwoole\Http\AbstractInterface\Controller;
use EasySwoole\Http\Message\Status;
use EasySwoole\Validate\Validate;
use Swoole\Coroutine\Http\Client\Exception;

class Base extends Controller
{
    public function index()
    {
        // TODO: Implement index() method.
    }

    public final function validateCheck($validate) : array
    {
        if ($validate instanceof Validate) {
            if ($this->validate($validate)) {
                return $validate->getVerifiedData();
            } else {
                throw new Exception($validate->getError()->__toString(),Status::CODE_ERROR);
            }
        } else {
            throw new Exception("不属于规则合法验证实例",Status::CODE_INTERNAL_SERVER_ERROR);
        }
    }

    protected function onException(\Throwable $throwable): void
    {
        // TODO: Change the autogenerated stub
        $this->writeJson($throwable->getCode(),'fail',$throwable->getMessage());
        return;
    }
}

```

## Last

喜欢的给我打星星哦，感谢！！！


